<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formularz Klienta BAF</title>
    <style>
        :root { --primary-color: #1a365d; --accent-color: #2b6cb0; --bg-color: #f7fafc; --white: #ffffff; --text-color: #2d3748; --border-radius: 8px; }
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: var(--bg-color); color: var(--text-color); margin: 0; padding: 20px; display: flex; justify-content: center; }
        .container { background: var(--white); width: 100%; max-width: 900px; padding: 40px; border-radius: var(--border-radius); box-shadow: 0 4px 6px rgba(0,0,0,0.1); position: relative; }
        .logo { position: absolute; top: 30px; right: 40px; width: 120px; height: auto; }
        header { margin-bottom: 40px; padding-right: 140px; }
        h1 { color: var(--primary-color); font-size: 24px; margin-bottom: 10px; }
        h2 { font-size: 16px; color: #718096; font-weight: 400; margin-top: 0; }
        .advisor-info { display: inline-block; background-color: #ebf8ff; color: var(--accent-color); padding: 8px 12px; border-radius: 4px; font-size: 0.95em; margin-top: 10px; line-height: 1.4; }
        .advisor-name { font-weight: 700; display: block; }
        .advisor-title { font-weight: 400; font-size: 0.9em; opacity: 0.9; }
        .form-section { margin-bottom: 30px; border-bottom: 1px solid #e2e8f0; padding-bottom: 20px; }
        .form-section h3 { color: var(--primary-color); font-size: 18px; margin-bottom: 20px; border-left: 4px solid var(--accent-color); padding-left: 10px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 600px) { .grid { grid-template-columns: 1fr; } .logo { position: static; margin-bottom: 20px; display: block; } header { padding-right: 0; } }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 6px; font-weight: 500; font-size: 0.9rem; }
        input[type="text"], input[type="email"], input[type="tel"], input[type="date"], input[type="number"], select, textarea { width: 100%; padding: 10px 12px; border: 1px solid #cbd5e0; border-radius: var(--border-radius); font-size: 1rem; transition: border-color 0.3s; box-sizing: border-box; }
        input:focus, select:focus, textarea:focus { border-color: var(--accent-color); outline: none; box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2); }
        textarea { resize: vertical; min-height: 100px; }
        .checkbox-container { display: flex; align-items: flex-start; margin-bottom: 25px; padding: 15px; background-color: #f8f9fa; border-radius: var(--border-radius); border: 1px solid #e2e8f0; }
        .checkbox-container input[type="checkbox"] { margin-top: 4px; margin-right: 12px; width: 20px; height: 20px; flex-shrink: 0; cursor: pointer; }
        .checkbox-container label { margin-bottom: 0; font-size: 0.9rem; color: var(--text-color); cursor: pointer; line-height: 1.4; }
        .legal-note { font-size: 0.75rem; color: #718096; margin-top: 15px; line-height: 1.5; text-align: justify; }
        .legal-note a { color: var(--accent-color); text-decoration: none; }
        .legal-note a:hover { text-decoration: underline; }
        button.submit-btn { background-color: var(--primary-color); color: white; border: none; padding: 15px 30px; font-size: 18px; border-radius: var(--border-radius); cursor: pointer; width: 100%; transition: background-color 0.3s; font-weight: bold; }
        button.submit-btn:hover { background-color: var(--accent-color); }
        button:disabled { background-color: #a0aec0; cursor: not-allowed; }
        #message { display: none; margin-top: 20px; padding: 15px; border-radius: var(--border-radius); text-align: center; }
        .success { background-color: #c6f6d5; color: #22543d; border: 1px solid #9ae6b4; }
        .error { background-color: #fed7d7; color: #822727; border: 1px solid #feb2b2; }
        .loading { display: none; text-align: center; margin-top: 10px; color: #666; }
    </style>
</head>
<body>

<div class="container">
    <img src="baf_logo.png" alt="Logo BAF" class="logo">

    <header>
        <h1>Formularz Danych Klienta</h1>
        <h2>Proszę o dokładne uzupełnienie poniższych danych w celu przygotowania dokumentacji.</h2>
        <div class="advisor-info">
            <span class="advisor-name">Twój opiekun: Weronika Lekston</span>
            <span class="advisor-title">Manager zespołu ds. klienta biznesowego</span>
        </div>
    </header>

    <form id="bafForm">
        <input type="hidden" id="scriptUrl" value="https://script.google.com/macros/s/AKfycbx3U8N5CW4rUBoAZaG0U-mwrCbVEci0pee0m3-iNuFkV4Pivz8kZB2FqMsbybWctPRjLA/exec">
        
        <input type="hidden" name="doradca" value="Weronika Lekston">

        <div class="form-section">
            <h3>Dane Osobowe i Kontaktowe</h3>
            <div class="grid">
                <div class="form-group"><label>Imię (imiona) i Nazwisko</label><input type="text" name="imie_nazwisko" placeholder="Jan Kowalski" required></div>
                <div class="form-group"><label>PESEL</label><input type="text" name="pesel" pattern="\d{11}" title="11 cyfr" required></div>
                <div class="form-group"><label>Adres e-mail</label><input type="email" name="mail" required></div>
                <div class="form-group"><label>Numer telefonu</label><input type="tel" name="telefon" required></div>
            </div>
        </div>

        <div class="form-section">
            <h3>Dokument Tożsamości</h3>
            <div class="grid">
                <div class="form-group"><label>Seria i numer dowodu osobistego</label><input type="text" name="dowod" required></div>
                <div class="form-group"><label>Data wydania</label><input type="date" name="data_wydania" required></div>
                <div class="form-group"><label>Data ważności</label><input type="date" name="data_waznosci" required></div>
                <div class="form-group"><label>Stan cywilny</label>
                    <select name="stan_cywilny"><option value="kawaler/panna">Kawaler / Panna</option><option value="zamężna/żonaty">Zamężna / Żonaty</option><option value="rozwiedziony/a">Rozwiedziony / a</option><option value="wdowiec/wdowa">Wdowiec / Wdowa</option></select>
                </div>
                <div class="form-group"><label>Rozdzielność majątkowa?</label>
                    <select name="rozdzielnosc"><option value="Nie">Nie</option><option value="Tak">Tak</option><option value="Nie dotyczy">Nie dotyczy</option></select>
                </div>
            </div>
        </div>

        <div class="form-section">
            <h3>Dane Firmowe i Adresowe</h3>
            <div class="grid">
                <div class="form-group"><label>NIP</label><input type="text" name="nip" required></div>
                <div class="form-group"><label>Data otwarcia działalności</label><input type="date" name="data_idg" required></div>
                <div class="form-group" style="grid-column: span 2;"><label>Adres zamieszkania (Ulica, nr domu/lokalu, kod pocztowy, miasto)</label><input type="text" name="adres_zam" required></div>
                <div class="form-group"><label>Mieszka pod tym adresem od (Miesiąc/Rok)</label><input type="text" name="data_zam" placeholder="np. 05/2018" required></div>
                <div class="form-group"><label>Forma własności mieszkania</label>
                    <select name="wlasnosc"><option value="Własnościowe">Własnościowe</option><option value="Wynajmowane">Wynajmowane</option><option value="Przy rodzinie">Przy rodzinie</option><option value="Służbowe">Służbowe</option></select>
                </div>
                <div class="form-group" style="grid-column: span 2;"><label>Adres korespondencyjny (jeśli inny niż zamieszkania)</label><input type="text" name="adres_koresp"></div>
                <div class="form-group"><label>Liczba pracowników na UOP</label><input type="number" name="pracownicy" value="0"></div>
                <div class="form-group"><label>Obsługa klientów</label>
                    <select name="klienci"><option value="Jeden główny klient">Jeden główny klient</option><option value="Kilku klientów">Kilku klientów</option><option value="Wielu klientów (detal)">Wielu klientów (detal)</option></select>
                </div>
                <div class="form-group" style="grid-column: span 2;"><label>Czy firma to kontynuacja innej działalności?</label><input type="text" name="kontynuacja" placeholder="Jeśli tak, opisz krótko"></div>
            </div>
        </div>

        <div class="form-section">
            <h3>Dane Dodatkowe</h3>
            <div class="grid">
                <div class="form-group"><label>Miejsce urodzenia</label><input type="text" name="urodzenie" required></div>
                <div class="form-group"><label>Nazwisko rodowe matki</label><input type="text" name="rodowe_matki" required></div>
                <div class="form-group"><label>Imię Ojca</label><input type="text" name="imie_ojca" required></div>
                <div class="form-group"><label>Imię Matki</label><input type="text" name="imie_matki" required></div>
                <div class="form-group"><label>Wykształcenie</label>
                    <select name="wyksztalcenie"><option value="Podstawowe">Podstawowe</option><option value="Zawodowe">Zawodowe</option><option value="Średnie">Średnie</option><option value="Wyższe">Wyższe</option></select>
                </div>
                <div class="form-group"><label>Dzieci na utrzymaniu (ilość + daty urodzenia)</label><input type="text" name="dzieci" placeholder="np. 2 (2010, 2015)"></div>
                <div class="form-group" style="grid-column: span 2;"><label>Uwagi</label><textarea name="uwagi"></textarea></div>
            </div>
        </div>

        <div class="checkbox-container">
            <input type="checkbox" id="privacy_policy" name="privacy_policy" required>
            <label for="privacy_policy">Oświadczam, że zapoznałem/am się z Polityką Prywatności i akceptuję jej postanowienia. Rozumiem, że moje dane osobowe będą przetwarzane w celu przygotowania wniosku i procesowania.</label>
        </div>

        <button type="submit" class="submit-btn" id="btnSubmit">Wyślij Formularz</button>

        <div class="legal-note">
            Administratorem Twoich danych osobowych jest Biuro Analizy finansowej Mateusz Dzidkowski z siedzibą w Krakowie. Twoje dane wpisane w formularzu będą przetwarzane wyłącznie w celu przygotowania wniosku i procesowania (zgodnie z art. 6 ust. 1 lit. f RODO – prawnie uzasadniony interes administratora). Pełną informację o Twoich prawach (m.in. dostępu do danych, ich sprostowania czy usunięcia) znajdziesz w naszej <a href="https://biuroanalizyfinansowej.pl/polityka-prywatnosci/" target="_blank">Polityce Prywatności</a>.
        </div>

        <div class="loading" id="loader">Przetwarzanie danych, proszę czekać...</div>
        <div id="message"></div>
    </form>
</div>

<script>
    document.getElementById('bafForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const scriptURL = document.getElementById('scriptUrl').value;
        const form = document.forms['bafForm'];
        const btn = document.getElementById('btnSubmit');
        const loader = document.getElementById('loader');
        const msg = document.getElementById('message');
        if (scriptURL.includes("TUTAJ_WKLEJ")) { alert("Błąd konfiguracji: Nie wprowadzono adresu URL skryptu Google."); return; }
        btn.disabled = true; loader.style.display = 'block'; msg.style.display = 'none';
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => response.json())
            .then(response => {
                loader.style.display = 'none'; msg.style.display = 'block';
                if (response.result === 'success') { msg.className = 'success'; msg.innerHTML = '<strong>Sukces!</strong> Formularz został poprawnie uzupełniony i przesłany. Dziękujemy.'; form.reset(); } 
                else { throw new Error(response.error); }
                btn.disabled = false;
            })
            .catch(error => { loader.style.display = 'none'; msg.style.display = 'block'; msg.className = 'error'; msg.innerHTML = 'Wystąpił błąd podczas wysyłania: ' + error.message; btn.disabled = false; });
    });
</script>
</body>
</html>
